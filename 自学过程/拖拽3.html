<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript">
			window.onload=function()
			{
				var oDiv=document.getElementById('div1');
				
				var disX=0;
				var disY=0;
				
				oDiv.onmousedown=function(ev)
				{
					var oEvent=ev||event;
					
					disX=oEvent.clientX-oDiv.offsetLeft;
					disY=oEvent.clientY-oDiv.offsetTop;
				
					document.onmousemove=function(ev)
					{
						var oEvent=ev||event;
						var l=oEvent.clientX-disX
						var t=oEvent.clientY-disY
						var w=document.documentElement.clientWidth-oDiv.offsetWidth;
						var h=document.documentElement.clientHeight-oDiv.offsetHeight;
						
						if(l<0)
						{
							l=0
						}
						else if(l>w)
						{
							l=w;
						}
						if(t<0)
						{
							t=0;
						}
						else if(t>h)
						{
							t=h;
						}
						
						oDiv.style.left=l+'px';
						oDiv.style.top=t+'px';
					}
					
					document.onmouseup=function()
					{
						document.onmousemove=null;
						document.onmouseup=null;
					}
				}
				
				
			}

		</script>
	</head>
	<body>
		<div id="div1" style="width: 100px; height: 100px; background: red; position: absolute;">
			
		</div>
	</body>
</html>
